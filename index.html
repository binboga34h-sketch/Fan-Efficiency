<!-- Kanal Tipi Seçimi -->
<div class="field">
  <label for="kanalTipi">Kanal Tipi</label>
  <select id="kanalTipi" onchange="updateKanalInputs()">
    <option value="daire">Daire</option>
    <option value="dikdortgen">Dikdörtgen</option>
  </select>
</div>

<!-- Daire için çap -->
<div class="field kanal-input" id="daireInputs">
  <label for="cap">Çap (m)</label>
  <input type="number" id="cap" step="0.01" placeholder="Örn: 0.5">
</div>

<!-- Dikdörtgen için genişlik ve yükseklik -->
<div class="field kanal-input" id="dikdortgenInputs" style="display:none;">
  <label for="genislik">Genişlik (m)</label>
  <input type="number" id="genislik" step="0.01" placeholder="Örn: 0.6">
  <label for="yukseklik">Yükseklik (m)</label>
  <input type="number" id="yukseklik" step="0.01" placeholder="Örn: 0.4">
</div>

<!-- Hız -->
<div class="field">
  <label for="kanalHizi">Hız (m/s)</label>
  <input type="number" id="kanalHizi" step="0.01" placeholder="Örn: 5">
</div>

<script>
function updateKanalInputs() {
  let tip = document.getElementById("kanalTipi").value;
  document.getElementById("daireInputs").style.display = tip === "daire" ? "block" : "none";
  document.getElementById("dikdortgenInputs").style.display = tip === "dikdortgen" ? "block" : "none";
}

function hesaplaDebiFromHiz() {
  let tip = document.getElementById("kanalTipi").value;
  let hiz = parseFloat(document.getElementById("kanalHizi").value);
  let alan = 0;

  if (tip === "daire") {
    let cap = parseFloat(document.getElementById("cap").value);
    if (!isNaN(cap)) {
      alan = Math.PI * Math.pow(cap / 2, 2);
    }
  } else {
    let genislik = parseFloat(document.getElementById("genislik").value);
    let yukseklik = parseFloat(document.getElementById("yukseklik").value);
    if (!isNaN(genislik) && !isNaN(yukseklik)) {
      alan = genislik * yukseklik;
    }
  }

  if (!isNaN(hiz) && alan > 0) {
    let debi_m3s = hiz * alan;
    let debi_m3h = debi_m3s * 3600;
    document.getElementById("q").value = debi_m3h.toFixed(2); // Mevcut Debi alanına yaz
  }
}

// Alan değişince otomatik hesaplama
document.getElementById("kanalTipi").addEventListener("change", hesaplaDebiFromHiz);
document.getElementById("cap").addEventListener("input", hesaplaDebiFromHiz);
document.getElementById("genislik").addEventListener("input", hesaplaDebiFromHiz);
document.getElementById("yukseklik").addEventListener("input", hesaplaDebiFromHiz);
document.getElementById("kanalHizi").addEventListener("input", hesaplaDebiFromHiz);
}
</script>

</body>
</html>
